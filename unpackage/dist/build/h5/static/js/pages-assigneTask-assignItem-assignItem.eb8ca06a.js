(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assigneTask-assignItem-assignItem"],{"24b2":function(t,e,n){"use strict";n.r(e);var a=n("aeb6"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"4cba":function(t,e,n){"use strict";var a=n("7a29"),i=n.n(a);i.a},"7a29":function(t,e,n){var a=n("ba2b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("74d4a034",a,!0,{sourceMap:!1,shadowMode:!1})},8627:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uModal:n("13c6").default,lyTree:n("8ab0").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"pages"},[0==t.issTaskItem.length?n("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v("暂无数据！")]):t._e(),t.issTaskItem.length>0?n("v-uni-view",{},t._l(t.issTaskItem,(function(e){return n("v-uni-view",{staticClass:"taskItem"},[n("v-uni-view",{staticClass:"item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.jumpDetail(e.id,e.title)}}},[t._v(t._s(e.title))]),t.showIssue?n("v-uni-button",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.dealTask(e.id,e.title)}}},[t._v("处理")]):t._e(),n("v-uni-button",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.issueTask(e.title,e.id)}}},[t._v("派发")])],1)})),1):t._e(),n("v-uni-view",{staticClass:"diagbox"},[n("u-modal",{attrs:{show:t.show,title:t.title,content:t.content,showCancelButton:"true"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"slot-content"},[n("ly-tree",{ref:"tree",attrs:{"tree-data":t.radioList,"show-checkbox":!0,"node-key":"id",iconClass:"cicleIcon",checkStrictly:"true",defaultExpandAll:"true"}})],1)],1)],1)],1)},o=[]},aeb6:function(t,e,n){"use strict";var a=n("4ea4");n("c975"),n("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("f824")),o=a(n("8ab0")),s={components:{LyTree:o.default},data:function(){return{issTaskItem:[],show:!1,title:"选择派发科室",content:"",checkboxValue1:"",radioList:[],titleName:"",taskId:"",showIssue:!1}},methods:{dealTask:function(t,e){console.log(1111),uni.navigateTo({url:"/pages/dealTask/notDealDetail/notDealDetail?taskId="+t+"&title="+e})},getRole:function(){var t=this;uni.request({url:i.default+"user/getUserLoginInfo",method:"GET",header:{token:uni.getStorageSync("token")},success:function(e){var n=e.data.data.roles;console.log("获取角色信息的接口",e),n.indexOf("B")>-1&&n.indexOf("C")>-1&&(t.showIssue=!0)}})},confirm:function(){var t=this,e=this;console.log("获取选择的科室",this.$refs.tree.getCheckedNodes());var n=this.$refs.tree.getCheckedNodes(),a=[];n.map((function(t){a.push(t.id)})),uni.request({url:i.default+"buss/assignTask2Org",method:"POST",header:{token:uni.getStorageSync("token")},data:{info:"",oids:a,tid:e.taskId},success:function(e){console.log("分配任务成功",e),"成功"==e.data.msg&&200==e.statusCode&&(t.show=!1,uni.showToast({title:"派发成功",icon:"success"}),t.getList())}})},cancel:function(){this.show=!1},getList:function(){var t=this;uni.request({url:i.default+"buss/getMyAssignTask?status=1",method:"GET",header:{token:uni.getStorageSync("token")},data:{},success:function(e){e.data.data?t.issTaskItem=e.data.data:t.issTaskItem=[],console.log("------------待分配任务列表",e)}})},jumpDetail:function(t,e){console.log(1111),uni.navigateTo({url:"/pages/assigneTask/assignDetail/assignDetail?taskId="+t+"&title="+e})},getkeshi:function(){var t=this;uni.request({url:i.default+"org/findTree",method:"POST",header:{token:uni.getStorageSync("token")},data:{id:"",name:"",order:0,pid:"",type:""},success:function(e){t.radioList=e.data.data,console.log("获取的所有科室",e)}})},checkboxChange:function(){},issueTask:function(t,e){this.content="",this.show=!0,this.titleName=t,this.taskId=e}},onLoad:function(t){this.getkeshi(),console.log(t),this.getRole()},onShow:function(){this.getList()}};e.default=s},ba2b:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".ly-tree[data-v-2b0f6de2]{\n\t    /* position: relative; */cursor:default;background:#fff;color:#606266;padding:%?30?%;overflow:auto!important;position:absolute!important;top:50px!important;height:110px!important;left:80px!important}.u-modal__title[data-v-2b0f6de2]{color:#4976c9!important;font-size:16px;text-align:center;left:120px!important;z-index:50!important\n\t/* border-bottom: 1px solid #d6d7d9 !important; */\n/* \tpadding-top: 15px !important;\n\tpadding-bottom: 10px !important; */}.u-modal[data-v-2b0f6de2]{height:250px!important}.u-modal__content[data-v-2b0f6de2]{height:122px!important}.pages[data-v-2b0f6de2]{margin-top:20px}.taskItem[data-v-2b0f6de2]{margin-left:7%;overflow:hidden;width:85%;margin-bottom:10px}.item[data-v-2b0f6de2]{float:left;width:50%;overflow:hidden; /*超出的文本隐藏 */text-overflow:ellipsis; /*溢出用省略号显示 */white-space:nowrap; /*溢出不换行 */color:#00f;font-size:14px}uni-button[data-v-2b0f6de2]{width:60px;height:20px;border-radius:10px;background-color:#6495ed;margin-left:5px;font-size:12px;color:#fff;line-height:20px;float:right}",""]),t.exports=e},bb19:function(t,e,n){"use strict";n.r(e);var a=n("8627"),i=n("24b2");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("4cba");var s,u=n("f0c5"),d=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"2b0f6de2",null,!1,a["a"],s);e["default"]=d.exports}}]);