(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assigneTask-assignDetail-assignDetail"],{"02f5":function(t,e,n){"use strict";n.r(e);var a=n("8aa9"),i=n("bbd7");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("b9ff");var s,r=n("f0c5"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"b7e9e4ce",null,!1,a["a"],s);e["default"]=c.exports},"7d8c":function(t,e,n){var a=n("e870");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("4a96ba8e",a,!0,{sourceMap:!1,shadowMode:!1})},"8aa9":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uModal:n("13c6").default,lyTree:n("8ab0").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{}},[n("v-uni-view",{staticClass:"title"},[n("v-uni-view",{},[t._v("任务名称："),n("v-uni-text",[t._v(t._s(t.title))])],1)],1),t._l(t.detailList,(function(e){return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"contentTitle"},[t._v(t._s(e.label))]),t._l(e.children,(function(e){return n("v-uni-view",{staticClass:"contentText"},[t._v(t._s(e.label))])}))],2)})),n("v-uni-view",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addReconds.apply(void 0,arguments)}}},[t._v("派发")]),n("v-uni-view",{staticClass:"diagbox"},[n("u-modal",{attrs:{show:t.show,title:t.modalTitle,content:t.content,showCancelButton:"true"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"slot-content"},[n("ly-tree",{ref:"tree",attrs:{"tree-data":t.radioList,"show-checkbox":!0,"node-key":"id",iconClass:"cicleIcon",checkStrictly:"true",defaultExpandAll:"true"}})],1)],1)],1)],2)},o=[]},b9ff:function(t,e,n){"use strict";var a=n("7d8c"),i=n.n(a);i.a},bbd7:function(t,e,n){"use strict";n.r(e);var a=n("f592"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},e870:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".ly-tree[data-v-b7e9e4ce]{\r\n\t    /* position: relative; */cursor:default;background:#fff;color:#606266;padding:%?30?%;overflow:auto!important;position:absolute!important;top:50px!important;height:110px!important;left:80px!important}.u-modal__title[data-v-b7e9e4ce]{color:#4976c9!important;font-size:16px;text-align:center;left:120px!important;z-index:50!important\r\n\t/* border-bottom: 1px solid #d6d7d9 !important; */\r\n/* \tpadding-top: 15px !important;\r\n\tpadding-bottom: 10px !important; */}.u-modal[data-v-b7e9e4ce]{height:250px!important}.u-modal__content[data-v-b7e9e4ce]{height:122px!important}.button[data-v-b7e9e4ce]{width:90%;margin-left:5%;position:absolute;bottom:30px;background-color:#4976c9!important;height:40px;line-height:40px;color:#fff;border-radius:10px;text-align:center}.content[data-v-b7e9e4ce]{font-size:12px;margin-left:20px;margin-bottom:20px}.contentTitle[data-v-b7e9e4ce]{font-weight:600;margin-bottom:5px}.contentText[data-v-b7e9e4ce]{margin-bottom:3px}.title[data-v-b7e9e4ce]{font-weight:600;font-size:12px;margin-left:20px;margin-right:20px;margin-top:10px;margin-bottom:20px}",""]),t.exports=e},f592:function(t,e,n){"use strict";var a=n("4ea4");n("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("8ab0")),o=a(n("f824")),s={components:{LyTree:i.default},data:function(){return{taskId:"",detailList:[],modalTitle:"选择派发科室",content:"",show:!1,radioList:[],title:""}},methods:{getkeshi:function(){var t=this;uni.request({url:o.default+"org/findTree",method:"POST",header:{token:uni.getStorageSync("token")},data:{id:"",name:"",order:0,pid:"",type:""},success:function(e){t.radioList=e.data.data,console.log("获取的所有科室",e)}})},confirm:function(){var t=this;console.log("获取选择的科室",this.$refs.tree.getCheckedNodes());var e=this.$refs.tree.getCheckedNodes(),n=[];e.map((function(t){n.push(t.id)})),uni.request({url:o.default+"buss/assignTask2Org",method:"POST",header:{token:uni.getStorageSync("token")},data:{info:"",oids:n,tid:t.taskId},success:function(e){console.log("分配任务成功",e),"成功"==e.data.msg&&200==e.statusCode&&(uni.showToast({title:"派发成功",icon:"success"}),t.show=!1)}})},cancel:function(){this.show=!1},addReconds:function(){this.show=!0},getList:function(){var t=this;uni.request({url:o.default+"buss/getTaskInfo",method:"GET",header:{token:uni.getStorageSync("token")},data:{tid:t.taskId},success:function(e){t.detailList=e.data.data,console.log("------------详情",t.detailList)}})}},onLoad:function(t){console.log("详情页接收的id",t),this.taskId=t.taskId,this.title=t.title,this.getList(),this.getkeshi()}};e.default=s}}]);