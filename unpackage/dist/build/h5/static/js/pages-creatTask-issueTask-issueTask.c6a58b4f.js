(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-creatTask-issueTask-issueTask"],{"0c5f":function(t,e,n){"use strict";n.r(e);var o=n("72ca"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a},"0ff2":function(t,e,n){"use strict";var o=n("73f3"),r=n.n(o);r.a},"1a2c":function(t,e,n){"use strict";n.r(e);var o=n("2c41"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a},"2c41":function(t,e,n){"use strict";var o=n("4ea4");n("99af"),n("a9e3"),n("4fad"),n("4d63"),n("ac1f"),n("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("b85c")),a={name:"z-modal",props:{check:{type:Boolean,default:!1},checkItem:{type:Array,default:function(){return[]}},selfCheckItem:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1},btnGroup:{type:Array,default:function(){return[{text:"取消",color:"#FFFFFF",bgColor:"#999999",width:"220rpx",height:"80rpx",shape:"circle",eventName:"cancle"},{text:"确定",color:"#FFFFFF",bgColor:"#007AFF",width:"220rpx",height:"80rpx",shape:"circle",eventName:"sure"}]}},contentType:{type:[Number,String],default:1},maxLength:{type:Number,default:20},modalWidth:{type:String,default:"580rpx"},titleSize:{type:String,default:"32rpx"},contentSize:{type:String,default:"28rpx"},bottomFontSize:{type:String,default:"28rpx"},titlePadding:{type:String,default:"20rpx 0"},contentPadding:{type:String,default:"10rpx 40rpx"},bottomPadding:{type:String,default:"30rpx 40rpx"},titleColor:{type:String,default:"#333333"},contentColor:{type:String,default:"#333333"},placeholderColor:{type:String,default:"#999"},inputBorderColor:{type:String,default:"#999"},titleText:{type:String,default:"titleText"},contentText:{type:String,default:"Please type in your text"},placeholderText:{type:String,default:"请输入你的内容"}},computed:{btnLength:function(){return this.btnGroup.length},placeholderStyleString:function(){return"color:".concat(this.placeholderColor,";font-size:").concat(this.contentSize)}},data:function(){return{shapeObj:{circle:"1000rpx",straight:"0",fillet:"12rpx"},inputText:"",textareaText:"",checkCollection:{isRequired:function(t){return!(null===t||""===t||void 0===t)},isNumber:function(t){var e=/^\+?[0-9][0-9]*$/;return e.test(t)},isChinese:function(t){var e=/^[\u4e00-\u9fa5]+$/;return e.test(t)},isEnglish:function(t){var e=/^[a-zA-Z]+$/;return e.test(t)},isEmail:function(t){var e=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;return e.test(t)},isIdNum:function(t){var e=/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i;return e.test(t)}}}},methods:{btnClick:function(t){var e=2==this.contentType?this.inputText:this.textareaText;if(this.check&&this.checkItem.length&&1!=this.contentType){var n,o=!1,a=(0,r.default)(this.checkItem);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(!this.checkCollection[i](e)){this.$emit("error",i),o=!0;break}}}catch(o){a.e(o)}finally{a.f()}if(o)return}var l=Object.entries(this.selfCheckItem);if(this.check&&l.length&&1!=this.contentType){var c,d=!1,u=(0,r.default)(l);try{for(u.s();!(c=u.n()).done;){var s=c.value,f=new RegExp(s[1]);if(!f.test(e)){this.$emit("error",s[0]),d=!0;break}}}catch(o){u.e(o)}finally{u.f()}if(d)return}this.$emit(this.btnGroup[t]["eventName"],{inputText:this.inputText||"",textareaText:this.textareaText||""}),this.inputText="",this.textareaText=""}}};e.default=a},"2ec4":function(t,e,n){var o=n("6e2f");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var r=n("4f06").default;r("c5f3630c",o,!0,{sourceMap:!1,shadowMode:!1})},"37e5":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={lyTree:n("8ab0").default,zModal:n("be75").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"content",staticStyle:{"margin-bottom":"50px"}},[n("ly-tree",{ref:"tree",attrs:{"tree-data":t.treeData,"show-checkbox":!0,"node-key":"id",iconClass:"cicleIcon",checkStrictly:"true"}})],1),n("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.issueTask.apply(void 0,arguments)}}},[t._v("下发任务")]),n("z-modal",{staticClass:"modalbox",attrs:{show:t.modalControl,btnGroup:t.btnGroup,titleColor:"blue",contentType:1,contentText:t.contentText,titleText:t.titleText},on:{cancle:function(e){arguments[0]=e=t.$handleEvent(e),t.cancle.apply(void 0,arguments)},sure:function(e){arguments[0]=e=t.$handleEvent(e),t.sure.apply(void 0,arguments)}}})],1)},a=[]},4158:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"mask",style:{opacity:t.show?"1":"0",visibility:t.show?"visible":"hidden"}}),n("v-uni-view",{staticClass:"modal-box",style:{display:t.show?"block":"none",width:t.modalWidth}},[n("v-uni-view",{staticClass:"modal-title",style:{padding:t.titlePadding,fontSize:t.titleSize,color:t.titleColor}},[t._v(t._s(t.titleText))]),1==t.contentType?n("v-uni-view",{staticClass:"modal-content",style:{fontSize:t.contentSize,padding:t.contentPadding,color:t.contentColor}},[t._v(t._s(t.contentText))]):t._e(),2==t.contentType?n("v-uni-view",{staticClass:"modal-content",style:{padding:t.contentPadding}},[n("v-uni-input",{staticClass:"input-area",style:{borderColor:t.inputBorderColor,fontSize:t.contentSize,color:t.contentColor},attrs:{placeholder:t.placeholderText,maxlength:t.maxLength,"placeholder-style":t.placeholderStyleString},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}})],1):t._e(),3==t.contentType?n("v-uni-view",{staticClass:"modal-content",style:{padding:t.contentPadding}},[n("v-uni-textarea",{style:{borderColor:t.inputBorderColor,fontSize:t.contentSize,color:t.contentColor},attrs:{placeholder:t.placeholderText,maxlength:t.maxLength,"placeholder-style":t.placeholderStyleString},model:{value:t.textareaText,callback:function(e){t.textareaText=e},expression:"textareaText"}})],1):t._e(),n("v-uni-view",{staticClass:"model-bottom",style:{padding:t.bottomPadding,"justify-content":t.btnLength>1?"space-between":"center"}},[t._l(t.btnGroup,(function(e,o){return[n("v-uni-view",{key:o+"_0",staticClass:"modal-btn",style:{width:e.width,height:e.height,color:e.color,"background-color":e.bgColor,"font-size":t.bottomFontSize,"border-radius":t.shapeObj[e.shape]},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnClick(o)}}},[t._v(t._s(e.text))])]}))],2)],1)],1)},a=[]},"429d":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".modal-title[data-v-8520269e]{color:#000!important;padding-top:20px!important}uni-button[data-v-8520269e]{width:90%;margin-left:5%;position:fixed;bottom:6px;background-color:#4976c9!important;height:40px;line-height:40px;color:#fff;border-radius:10px;text-align:center;z-index:50}",""]),t.exports=e},"4fad":function(t,e,n){var o=n("23e7"),r=n("6f53").entries;o({target:"Object",stat:!0},{entries:function(t){return r(t)}})},"6e2f":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".mask[data-v-e179d554]{position:fixed;z-index:98;background-color:rgba(0,0,0,.7);top:0;left:0;right:0;bottom:0;visibility:hidden;opacity:0;transition:all .3s}.modal-box[data-v-e179d554]{background-color:#fff;position:fixed;z-index:99;border-radius:%?12?%;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.modal-title[data-v-e179d554]{box-sizing:border-box;color:#333;display:flex;align-items:center;justify-content:center}.modal-content[data-v-e179d554]{box-sizing:border-box;color:#333;word-break:break-all;display:flex;justify-content:center}.model-bottom[data-v-e179d554]{display:flex;align-items:center}.modal-btn[data-v-e179d554]{display:flex;align-items:center;justify-content:center}.input-area[data-v-e179d554]{border:%?1?% solid #999;width:100%;padding:0 %?16?%;box-sizing:border-box;height:%?60?%;border-radius:%?6?%;outline:none}uni-textarea[data-v-e179d554]{border:%?1?% solid #999;width:92%;padding:%?16?%;box-sizing:border-box;border-radius:%?6?%;height:%?200?%}",""]),t.exports=e},"72ca":function(t,e,n){"use strict";var o=n("4ea4");n("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("8ab0")),a=o(n("f824")),i=(o(n("be75")),{components:{LyTree:r.default},data:function(){return{treeData:[],modalControl:!1,btnGroup:[{text:"取消",color:"#FFFFFF",bgColor:"#999999",width:"100px",height:"30px",shape:"fillet",eventName:"cancle"},{text:"确认",color:"#FFFFFF",bgColor:"#007AFF",width:"100px",height:"30px",shape:"fillet",eventName:"sure"}],titleText:"确认下发任务吗？",contentText:""}},methods:{issueTask:function(){this.modalControl=!0},cancle:function(){this.modalControl=!1},sure:function(){console.log("this.$refs.tree.getCheckedNodes()",this.$refs.tree.getCheckedNodes());var t=this.$refs.tree.getCheckedNodes(),e=[];t.map((function(t){e.push(t.id)})),uni.request({url:a.default+"buss/assignTask2Org",method:"POST",header:{token:uni.getStorageSync("token")},data:{info:"",oids:e,tid:uni.getStorageSync("id")},success:function(t){console.log(t),"成功"==t.data.msg&&200==t.statusCode&&uni.reLaunch({url:"/pages/homePage/homePage/homePage?status=1"})}})},getTaskList:function(){var t,e=this;t={token:uni.getStorageSync("token")},uni.request({url:a.default+"org/findTree",method:"POST",header:t,data:{id:"",name:"",order:0,pid:"",type:""},success:function(t){console.log(t),e.treeData=t.data.data}})}},onLoad:function(){this.getTaskList(),console.log("111111111111111111",uni.getStorageSync("id"))}});e.default=i},"73f3":function(t,e,n){var o=n("429d");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var r=n("4f06").default;r("246d179a",o,!0,{sourceMap:!1,shadowMode:!1})},a572:function(t,e,n){"use strict";n.r(e);var o=n("37e5"),r=n("0c5f");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("0ff2");var i,l=n("f0c5"),c=Object(l["a"])(r["default"],o["b"],o["c"],!1,null,"8520269e",null,!1,o["a"],i);e["default"]=c.exports},b85c:function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=r(n("06c5"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=(0,o.default)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,i=t},f:function(){try{l||null==n["return"]||n["return"]()}finally{if(c)throw i}}}}},be75:function(t,e,n){"use strict";n.r(e);var o=n("4158"),r=n("1a2c");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("f470");var i,l=n("f0c5"),c=Object(l["a"])(r["default"],o["b"],o["c"],!1,null,"e179d554",null,!1,o["a"],i);e["default"]=c.exports},f470:function(t,e,n){"use strict";var o=n("2ec4"),r=n.n(o);r.a},f824:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o="https://tas.hemotors.com.cn/",r=o;e.default=r}}]);